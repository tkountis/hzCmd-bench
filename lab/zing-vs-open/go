
hzCmd set jhic
hzCmd set jhicArgs -d 1080 -i 1000

hzCmd bench type Hdr
hzCmd bench driver Client
hzCmd bench threads 1
hzCmd bench warmup 900
hzCmd bench duration 3600

gcArgs="$gcArgs -verbose:gc -Xloggc:verbosegc.log"
gcArgs="$gcArgs -XX:+PrintGCTimeStamps -XX:+PrintGCDetails -XX:+PrintTenuringDistribution -XX:+PrintGCApplicationStoppedTime -XX:+PrintGCApplicationConcurrentTime"

hzCmd set memberOps "${gcArgs} -XX:+PrintFlagsFinal -Xms10G -Xmx10G"
hzCmd set clientOps "${gcArgs} -XX:+PrintFlagsFinal -Xms3G -Xmx3G"
          
benchJar=$(find ~/.m2 -name hzCmd-bench-1.0.0.jar)

hzCmd init cluster -size XS -id zing -v 3.6.1 -type HZ -uplib ${benchJar} -boxes jdkZing.txt
hzCmd bench run -cluster zing -b putBench
hzCmd wipe

hzCmd init cluster -size XS -id open -v 3.6.1 -type HZ -uplib ${benchJar} -boxes jdkOpen.txt
hzCmd bench run -cluster open -b putBench
hzCmd wipe

hzCmd chart compairHdr -dir output -red zing -blue open
hzCmd processJhic -dir output
hzCmd chart compairHdr -dir output -red Member-zing -blue Member-open
hzCmd chart compairHdr -dir output -red Client-zing -blue Client-open
